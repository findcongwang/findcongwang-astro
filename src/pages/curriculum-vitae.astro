---
// Assets
import { Image } from "astro:assets";
import Author from "/src/images/assets/francis_squared.jpg";
// Fundations
import BaseLayout from "@/layouts/BaseLayout.astro";
import Text from "@/components/fundations/elements/Text.astro";
import Wrapper from "@/components/fundations/containers/Wrapper.astro";
// Content
import { getCollection } from "astro:content";

const bioParagraphs = [
  "Francis Wang is a multipreneur with over a decade of experience leading multiple companies to successful exits ($70M & $650M) in both engineering and product roles.",
  "Francis creates and coaches sustainable impact ventures in domains such as sustainability, education, and health. Leveraging his diverse background and expertise in strategic foresight by cross-pollinating ideas from fields like futures studies, AI, design thinking, sustainability, and entrepreneurship to foster innovative solutions for greater societal resilience."
];

const motivation = [
  "The industrial revolution was humanity's withdrawal from the Earth's trust fund — a finite reserve built over eons. This investment gave us unprecedented power and understanding, but it left us with a debt that must now be repaid.",
  "To be born in this era is to inherit both humanity's greatest knowledge and its greatest debt. It is our responsibility to use what we've learned to restore balance, for the cost of inaction is ruin.",
  "- Francis Wang, \"Why Work in Sustainability\""
];

const currentResearch = [
  "Francis is actively redefining the architecture of innovation through his doctoral research:",
  "University of Calgary (DDes): Reseaching and developing a framework to create globally interconnected, self-reinforcing innovation ecosystems that accurately values long-term benefits to actualize greater societal resilience.",
  "Golden Gate University (DBA [GenAI]): Researching human-AI collaboration. His work addresses the ethical leadership challenge of the AI age, i,e., preserving \"Digital Sovereignty\" and human agency in a post-agentic world. This work champions GGU's values of social responsibility by creating tools for that serve the long-term public good.",
];

// Education data structure
const degrees = [
  {
    title: "DDes Candidate - Sustainable Innovation",
    organization: "University of Calgary",
    date: "2024 - (2027)",
    type: "Business, Technology, Entrepreneurship",
    notes: [
      "Reseaching and developing a framework to create globally interconnected, self-reinforcing innovation ecosystems that accurately values long-term benefits to actualize greater societal resilience."
    ],
  },  
  {
    title: "DBA Candidate - Emerging Technologies, GenAI",
    organization: "Golden Gate University",
    date: "2023 - (2026)",
    type: "Business, Technology, Entrepreneurship",
    notes: [
      "Reseaching and developing a framework for Human-AI collaboration in the Post-Agentic future of work."
    ],
  },  
  {
    title: "Master of Science in AI Engineering (MSAIE)",
    organization: "Quantic School of Business and Technology",
    date: "2025-2026",
    type: "Business, Technology, Entrepreneurship",
    notes: [],
  },
  {
    title: "Executive MBA",
    organization: "Quantic School of Business and Technology",
    date: "2022 - 2023",
    type: "Business, Technology, Entrepreneurship",
    notes: [
      "Capstone Finalist, Ecotourism business model that combines multiple holistic wellness amenities with an emphasis on sustainability."
    ],
  },
  {
    title: "Bachelor of Computer Science, Honours",
    organization: "University of Waterloo",
    date: "2010 - 2015",
    type: "Business, Technology, Entrepreneurship",
    notes: [
      "Minors in Entrepreneurship, Psychology, Applied Math, and Physics"
    ],
  },
];

const certificates = [
  { 
    title: "Biodiversity Finance",
    organization: "United Nations Development Programme (UNDP)",
    date: "Nov 2025",
    type: "Sustainable Development",
    notes: [],
  },
  {
    title: "Experiential Futures",
    organization: "Institute for the Future",
    date: "Jul 2025",
    type: "Business, Technology, Entrepreneurship",
    notes: [],
  },
  {
    title: "AI-Powered Instructional Design",
    organization: "LearnWorlds",
    date: "Dec 2024",
    type: "Learning Science",
    notes: [],
  },
  {
    title: "Collaborative Design and Build (CD&B)",
    organization: "Yestermorrow Design Build School",
    date: "Aug 2024",
    type: "Sustainable Development",
    notes: [
      "Designed and built a community compost toilet inthe Mad River Valley, VT. with a 100% urine diversion system.",
    ],
  },
  {
    title: "Landscape Design for Climate Resilience",
    organization: "Toronto Metropolitan University",
    date: "2023 - 2024",
    type: "Sustainable Development",
    notes: [],
  },
  {
    title: "Advanced Permaculture Design (Climate Resilience)",
    organization: "Oregon State University / Permaculture Institute of North America",
    date: "2024",
    type: "Sustainable Development",
    notes: [
      "Mapped climate-change analogue trajectories between North America, Europe, and Asia.",
    ],
  },
  {
    title: "Plant-Based Nutrition Certificate",
    organization: "T. Colin Campbell Center of Nutrition Studies",
    date: "2023",
    type: "Health, Fitness, and Longevity Studies",
    notes: [],
  },
  {
    title: "Certified Wim Hof Method Instructor (Level 1)",
    organization: "Wim Hof Method Academy",
    date: "2023",
    type: "Health, Fitness, and Longevity Studies",
    notes: [],
  },
  {
    title: "Designing Products of the Future",
    organization: "Futurity Studio",
    date: "2023",
    type: "Business, Technology, Entrepreneurship",
    notes: [],
  },
  {
    title: "Permaculture Design Certification",
    organization: "Oregon State University / Permaculture Institute of North America",
    date: "2023",
    type: "Sustainable Development",
    notes: [],
  },
  {
    title: "Mobility and Flexibility Training Curriculum Design",
    organization: "Matthew Smith",
    date: "2023",
    type: "Health, Fitness, and Longevity Studies",
    notes: [],
  },
  {
    title: "Sustainable Cities and Communities",
    organization: "Lund University",
    date: "2023",
    type: "Sustainable Development",
    notes: [],
  },
  {
    title: "Sustainable Development Specialization",
    organization: "Erasmus University Rotterdam",
    date: "2023",
    type: "Sustainable Development",
    notes: [],
  },
  {
    title: "Decentralized Finance (DeFi) Specialization",
    organization: "Duke University",
    date: "2023",
    type: "Business, Technology, Entrepreneurship",
    notes: [],
  },
  {
    title: "Sustainable Cities Specialization",
    organization: "The Johns Hopkins University",
    date: "2023",
    type: "Sustainable Development",
    notes: [],
  },
  {
    title: "Sustainable and Inclusive Landscapes Certification",
    organization: "Wageningen University of Research",
    date: "2023",
    type: "Sustainable Development",
    notes: [],
  },
  {
    title: "Microgreens Farming Certification",
    organization: "Freedom Farmers",
    date: "2022 - 2023",
    type: "Sustainable Development",
    notes: [],
  },
  {
    title: "Futures Thinking Specialization",
    organization: "Institute for the Future",
    date: "2022 - 2023",
    type: "Business, Technology, Entrepreneurship",
    notes: [],
  },
  {
    title: "Life Coach and CBT Practitioner Diploma",
    organization: "Achology, Academy of Modern Applied Psychology",
    date: "2022 - 2023",
    type: "Health, Fitness, and Longevity Studies",
    notes: [],
  },
  {
    title: "Data Engineering Nanodegree",
    organization: "Udacity",
    date: "2021",
    type: "Business, Technology, Entrepreneurship",
    notes: [],
  },
  {
    title: "AI for Trading Nanodegree",
    organization: "Udacity",
    date: "2021",
    type: "Business, Technology, Entrepreneurship",
    notes: [],
  },
  {
    title: "Capital Markets & Securities Analyst (CMSA)",
    organization: "Corporate Finance Institute",
    date: "2021",
    type: "Business, Technology, Entrepreneurship",
    notes: [],
  },
  {
    title: "Managing Innovation and Design Thinking Specialization",
    organization: "HEC Paris",
    date: "2019",
    type: "Business, Technology, Entrepreneurship",
    notes: [],
  },
  {
    title: "Certified Scrum Product Owner (CSPO)",
    organization: "Scrum Alliance",
    date: "2017",
    type: "Business, Technology, Entrepreneurship",
    notes: [],
  },
];

// Experience data structure
const experience = [
  {
    title: "Founder",
    organization: "Nova Roma Horizon Innovation Society (Non-Profit)",
    date: "Nov 2025 - Present",
    type: "Full-time",
    notes: [],
  },
  {
    title: "Head of Strategic Foresight, Multipreneur",
    organization: "FW.VISION Futures Thinking Inc.",
    date: "Mar 2023 - Present",
    type: "Full-time",
    notes: [],
  },
  {
    title: "Lead AI/ML/AIOps Engineer",
    organization: "Sunrock Distributed Generation Inc.",
    date: "Sep 2024 - Present",
    type: "Full-time",
    notes: [],
  },
  {
    title: "Regenerative Designer, Head of Business Development",
    organization: "Carbon Vault Design Studio",
    date: "Nov 2023 - Present",
    type: "Full-time",
    notes: [],
  },
  {
    title: "President and CEO",
    organization: "Arcadia Wellness Retreats Inc.",
    date: "Jun 2023 - Present",
    type: "Full-time",
    notes: [],
  },
  {
    title: "Alumni Mentor Advisor",
    organization: "Conrad School of Entrepreneurship and Business",
    date: "Feb 2021 - Present",
    type: "Part-time",
    notes: [
      "Mentored undergraduate student startup ventures and not-for-profit ideas in the Enterprise Co-op program and Venture Creation program.",
    ],
  },
  {
    title: "Staff MLOps Engineer",
    organization: "Swell Energy Inc.",
    date: "Apr 2024 - Aug 2024",
    type: "Full-time",
    notes: [
      "Designed and implemented medallion data architecture for Digital Twinning of Virtual Power Plant (VPP), household energy models, and utilities programs integrations.",
    ],
  },
  {
    title: "Staff Software Engineer",
    organization: "Swell Energy Inc.",
    date: "2021 - 2024",
    type: "Full-time",
    notes: [
      "Lead fleet-management team in developing and deploying the first large-scale ($400M project) DER Management System in Hawaii (with HECO).",
      "Directed technical development on VPP platform capable of managing a combined 160MW of residential PV+ESS units across the US.",
    ],
  },

  {
    title: "Algorithmic Trading Analyst",
    organization: "Alphascope Wealth Coaching",
    date: "2020 - 2022",
    type: "Full-time",
    notes: [
      "Developed multi-exchange crypto arbitrage bot with profit cycle detection under 350 microseconds (up to cycles of length 5).",
      "Developed technical trading strategies using Backtrader and QuantConnect.",
    ],
  },
  {
    title: "Senior Software Developer",
    organization: "Opus One Solutions Energy Corp.",
    date: "2019 - 2021",
    type: "Full-time",
    notes: [
      "Developed Enterprise-grade Transactive Energy trading platform with real-time DER dispatch optimization and market clearing.",
      "Developed power flow optimized DER participation simulation tool for US and EU energy markets using Python and ReactJs.",
      "Mentored intermediate developers on system design patterns.",
    ],
  },
  {
    title: "Product Manager, UX Manager",
    organization: "Opus One Solutions Energy Corp.",
    date: "2017 - 2019",
    type: "Full-time",
    notes: [],
  },
  {
    title: "Full Stack Developer, Team Lead",
    organization: "Opus One Solutions Energy Corp.",
    date: "2016 - 2017",
    type: "Full-time",
    notes: [],
  },
  {
    title: "Full Stack Developer (ML)",
    organization: "UDIO AgTech",
    date: "2015 - 2016",
    type: "Full-time",
    notes: [],
  },
  {
    title: "President, Innovation Consultant",
    organization: "Synchronous Incubation and Development Labs Inc.",
    date: "2013 - 2017",
    type: "Full-time",
    notes: [],
  },
  {
    title: "Technical Co-Founder",
    organization: "Verse Software Lab Inc.",
    date: "2013 - 2016",
    type: "Full-time",
    notes: [],
  },
  {
    title: "Technical Co-Founder",
    organization: "Tactic Hive Entertainment Inc.",
    date: "2014",
    type: "Full-time",
    notes: [],
  },
  {
    title: "Undergraduate Research Assistant",
    organization: "Department of Applied Mathematics, University of Waterloo",
    date: "2013",
    type: "Part-time",
    notes: [],
  },
  {
    title: "Undergraduate Research Assistant",
    organization: "Institute for Quantum Computing, University of Waterloo",
    date: "2013",
    type: "Part-time",
    notes: [],
  },
  {
    title: "Undergraduate Research Assistant",
    organization: "Department of Applied Mathematics, University of Waterloo",
    date: "2011",
    type: "Part-time",
    notes: [],
  },
];

// Publications and Patents (APA style citations with hyperlinks)
const publications = [
  {
    citation: "Wang and Guziak. \"Integrating Nature-Based Healing and Sustainable Design Into Health Tourism\" (2025-12-11) doi: https://doi.org/10.4018/979-8-3373-3131-7.ch010",
    url: "https://doi.org/10.4018/979-8-3373-3131-7.ch010",
  },
  {
    citation: "Wang, F. (2025). \"AI Agents in Speculative Design\". https://doi.org/10.13140/RG.2.2.29572.39045",
    url: "https://doi.org/10.13140/RG.2.2.29572.39045",
  },
  {
    citation: "Wang, F., Chen, T., Koh, L., & Wu, A. (2025). Future-Proof Finance: Navigating Climate Risks and ESG Goals with Agentic AI and Collaborative Foresight. https://doi.org/10.13140/RG.2.2.28462.01607",
    url: "https://doi.org/10.13140/RG.2.2.28462.01607",
  },
  {
    citation: "Wang, F., Pyn Lim, Koh, L., & Smirnova, M. (2025). \"AI-Driven Precision Medicine—Shaping the Future of Personalized Healthcare\". https://doi.org/10.13140/RG.2.2.15965.73442",
    url: "https://doi.org/10.13140/RG.2.2.15965.73442",
  },
  {
    citation: "Wang, F. C. (2025). Collaborative Foresight in the Age of AI: A Framework for Evolving Human-AI Dynamics in Strategic Decision-Making and Futures Research. https://doi.org/10.13140/RG.2.2.30120.07689",
    url: "https://doi.org/10.13140/RG.2.2.30120.07689",
  },
  {
    citation: "Wang, F. \"The Role of AI in Future-Forming and Futures Research\" In G. J. Glaser & S. B. Zimdars (Eds.), A world remade by artificial intelligence: Perspectives. McFarland & Company.",
    url: "https://mcfarlandbooks.com/product/the-world-remade-by-artificial-intelligence/?srsltid=AfmBOooX2tNuMMNfTkCzTD9ZXdK4Lv6zhTdwwulxLkJamXc1uEhMRflZ",
  },
  {
    citation: "Koh, L., Jirat Boomuang, Pyn Lim, & Wang, F. (2025). Mitigating Bias, Ensuring Fairness: SEA-LION's Strategies for Inclusive LLM in a Diverse Region. https://doi.org/10.13140/RG.2.2.17556.82561",
    url: "https://doi.org/10.13140/RG.2.2.17556.82561",
  },
  {
    citation: "Boomuang, J., & Wang, F. C. (2025). \"Balancing Performance and Ethics: Responsible AI Strategies for DeepSeek-R1-Powered Agent\" Zenodo. https://doi.org/10.5281/ZENODO.15156634",
    url: "https://doi.org/10.5281/ZENODO.15156634",
  },
  {
    citation: "Macrae, D., Omara, H., Harisuthan, S. Ullman, B., Walker, G. Wang, C., Wong, J. \"Systems and Methods for Distribution System Markets in Electric Power Systems\" EP3807969 (A1). 2021.",
    url: "https://worldwide.espacenet.com/patent/search/family/068842368/publication/EP3807969A1?q=pn%3DEP3807969A1",
  },
  
];

// Presentations (with hyperlinks)
const presentations = [
  {
    citation: "Wang, F. C. (2025). \"Foresight-Driven Innovation (FDI) - Framework Overview\". CDW3 Conference. Zenodo. https://doi.org/10.5281/zenodo.15043151",
    url: "https://doi.org/10.5281/zenodo.15043151",
  },
  {
    citation: "Wang, C., Bhattacharya, S., Boomuang, J., Lau, L.B., Koh, L., Salas, J., Khan, A., Lim, P. \"Firewatch AI - AI-Assisted Wildfire Risk Assessment and Mitigation\" AI Project Design and Execution, Golden Gate University. 2024",
    url: "#",
  },
  {
    citation: "Wang, C. \"Mycology Propagation Methods / 真菌繁殖方法 - for medium scale indoor mushroom farming / 中型室内蘑菇种植\" Pioneer Bio-Environment Technology Canada Inc. Guest Lectures 2024.",
    url: "#",
  },
  {
    citation: "Wang, C. \"Design Report - Intersection of Growth\" Landscape Design Studio, Toronto Metropolitan University. 2024.",
    url: "#",
  },
  {
    citation: "Wang, C., Bhattacharya, S., Boomuang, J., Lau, L.B., Koh, L., Salas, J., Khan, A. \"Carbon Vault ESG - Carbon Insights and ESG Analystics\" Applied AI Innovation, Golden Gate University. 2024.",
    url: "#",
  },
  {
    citation: "Wang, C. \"Climate Resilience Case Study - 288 Steeles Line. Coldwater ON.\" Advanced Permaculture Design Capstone, Oregon State University. Supporting Excel Spreadsheet. 2024.",
    url: "#",
  },
  {
    citation: "Wang, C. Trochim. E., Salazar M. \"Arcadia Wellness Retreats - Longevity, Permaculture, Wellness\" Quantic EMBA Capstone. 2023.",
    url: "#",
  },
  {
    citation: "Wang, C. \"Arcadia Wellness Resort - Permaculture Design\" Permaculture Design Capstone, Oregon State University. 2023.",
    url: "#",
  },
];

// Grants and Awards
const grantsAndAwards = [
{
    year: "2025",
    title: "Scholarship of Distinction (MSAIE), Maximum ($2,500 USD)",
    description: "Quantic School of Business and Technology",
  },
  {
    year: "2024",
    title: "Semi-finalist, Quantic Moonshot Competition (Business Capstone)",
    description: "",
  },
  {
    year: "2023",
    title: "Scholarship of Distinction, Maximum ($40,000 USD)",
    description: "Golden Gate University",
  },
  {
    year: "2023",
    title: "Scholarship of Distinction (EMBA), Maximum ($2,500 USD)",
    description: "Quantic School of Business and Technology",
  },
  {
    year: "2013, 2014",
    title: "E-Coop E-Launch Award ($15,000)",
    description: "Conrad School of Business, University of Waterloo (2013, 2013, 2014)",
  },
  {
    year: "2020",
    title: "President's Scholarship of Distinction",
    description: "University of Waterloo",
  },
  {
    year: "2008",
    title: "VEX IQ - Creativity Award",
    description: "VEX Robotics Competition. Agincourt Klockworx",
  },
  {
    year: "2007",
    title: "Semi-finalist, ECOO Programming Competition",
    description: "Agincourt CI",
  },
];

// Membership and Communities
const memberships = [
  "BET300 and ECo-op Alumni Group - Admin",  
  "u-school Presencing Institute - Emerging Futures Expert",  
  "Disaster Resilience Working Group - PcX: The Permaculture Crossing",
  "Living Futures Institute - Future Ready Community",
  "Conrad Entrepreneur Alumni Group",
  "Freedom Farmers Alumni Community",
  "Permaculture Design Alumni Group",
];

// Get students from customers collection
const allCustomers = await getCollection("customers");
const students = allCustomers.filter(
  (customer) => customer.data.tags && customer.data.tags.includes("student")
);

// Hardcoded University of Waterloo students
const waterlooStudents = [
  {
    term: "Winter 2024",
    students: [
      "Ben Hosseinian. Undergraduate student, Renewable Energy Venture.",
      "Eric Chen. Undergraduate student, Scout - Data Aggregation Dashboard Startup.",
      "Jack Ironside. Undergraduate student, Echotone - Sound Design Architecture Studio.",
      "Kevin Hu. Undergraduate student, Aperture - Public Art Architectural Designs.",
      "Mariak Achuoth. Undergraduate student, Low-Tech Financing (Kenya-Sudan).",
      "Rikard Saqe. Undergraduate student, Scaffold - Lab Grown Seafood.",
    ],
  },
  {
    term: "Spring 2023",
    students: [
      "Darren Harry Baine. Undergraduate student, YoungEyeFoundation - Humanitarian Venture.",
      "Lex Stapleton. Undergraduate student, Indie Game Studio.",
      "Mads Christensen. Undergraduate student, Hygge - Wellness Startup.",
      "Miraal Kabir. Undergraduate student, SaFi - Nonprofit Humanitarian Venture.",
      "Nour Elkhawass. Undergraduate student, Transcend Vintage - Sustainable Fashion Startup.",
    ],
  },
  {
    term: "Winter 2023",
    students: [
      "Braiden Sunn. Undergraduate student, Mentor Health Consulting.",
      "Doris Wenbo Yi. Undergraduate student, Plant Nurseries Business.",
      "Hyeseong J. Undergraduate student, Escape - Campus Networking Platform.",
    ],
  },
  {
    term: "Fall 2022",
    students: [
      "Jina Wong. Undergraduate student, Elev8 - Home Delivery Fitness.",
      "Madhur Kumar Sharma. Undergraduate student, Syndr - DeFi Derivatives Platform.",
      "Matthew Chun. Undergraduate student, Martin Nuit - Cosmetics Startup.",
      "Mo Meer. Undergraduate student, Quickcast - Injury Prevention Sportswear.",
      "Orianna (Shuangrun) Min. Undergraduate student, AFAIK.io - Education Platform.",
    ],
  },
  {
    term: "Winter 2022",
    students: [
      "Adrian Simone. Undergraduate student, Bio-Brick Labs - Sustainable Materials.",
      "Cihan Sariyildiz. Undergraduate student, Shop&FundMe - E-commerce Venture.",
      "Laurent Zheng. Undergraduate student, Magician - Entrepreneurship studies.",
      "Maria Smirnova. Undergraduate student, Outcast Studios - 3D Printing Freelance.",
      "Morgan Gallant. Undergraduate student, Operand - Enterprise Search for Notion.",
      "Sharujan Shantharaj. Undergraduate student, Forest Media - Freelance Design Studio.",
      "Xinyu Fu. Undergraduate student, Lockcard - Web3 Identity Management App.",
    ],
  },
  {
    term: "Fall 2021",
    students: [
      "Ishit Ranjan. Undergraduate student, Blockchain Startup.",
      "Jeff Keomany. Undergraduate student, Compeat - Sustainability Venture.",
      "Justun Lynn. Undergraduate student, Defy Games - Mobile Game Studio.",
      "Lucas Godkin. Undergraduate student, Hydro House - Renewable Energy Startup.",
      "Yuqi Li. Undergraduate student, Aipaca - MLOps Platform.",
    ],
  },
  {
    term: "Spring 2021",
    students: [
      "Amritpal Chera. Undergraduate student, Amurse - Web3 Startup.",
      "Andy Xu. Undergraduate student, SiteScope.",
      "Gerry Saporito. Undergraduate student, Lumaki Labs - EdTech Startup.",
      "Giovanni Harvey. Undergraduate student, Tactable - GIS Venture.",
      "Mylene Tu. Undergraduate student, Lumaki Labs - EdTech Startup.",
      "Karan Sethy. Undergraduate student, Venture Creation studies.",
      "Simeng Yang. Undergraduate student, ML Venture.",
    ],
  },
  {
    term: "Winter 2021",
    students: [
      "Andrew Collard. Undergraduate student, Legend Esports - Game Broadcasting Venture.",
      "Jacob McFaull. Undergraduate student, Sustainability Venture.",
      "Kapilan Satkunanathan. Undergraduate student, KapaRide - Ridesharing Platform.",
      "Kirtis Eisler. Undergraduate student, Maesos Technologies.",
      "Nathan Ko. Undergraduate student, Education Platform.",
      "Rosie Bahrani. Undergraduate student, Education Platform.",
      "Songyue Zhang. Undergraduate student, Indie Game Development Studio.",
    ],
  },
];

// Color mapping for education types
const typeColors: Record<string, string> = {
  "Business, Technology, Entrepreneurship": "#660005",
  "Sustainable Development": "#104747",
  "Learning Science": "#005883",
  "Health, Fitness, and Longevity Studies": "#F15A29",
};
---

<BaseLayout>
  <style>    
    @media print {
      /* Hide navigation and footer when printing */
      :global(#nav-wrapper),
      :global(nav),
      :global(footer),
      .no-print {
        display: none !important;
      }
      
      /* Remove fixed positioning that causes overlap */
      :global(body) {
        padding-top: 0 !important;
      }
      
      /* Ensure main content starts at top */
      :global(main) {
        padding-top: 0 !important;
        margin-top: 0 !important;
      }
      
      /* Page breaks for sections when printing */
      section {
        page-break-inside: avoid;
        break-inside: avoid;
      }
      
      /* Set print margins */
      @page {
        margin: 1.5cm;
      }
      
      /* Ensure sections don't break awkwardly */
      ul, ol {
        page-break-inside: avoid;
        break-inside: avoid;
      }
      
      li {
        page-break-inside: avoid;
        break-inside: avoid;
      }
      
      /* Remove top padding from first section in print */
      section:first-child :global(.pt-12),
      section:first-child :global(.lg\\:pt-24) {
        padding-top: 0 !important;
      }
      
      /* Fix table layout for print - force 4 column grid */
      ul li[class*="grid"] {
        display: grid !important;
        grid-template-columns: 1fr 3fr !important;
        align-items: start !important;
        gap: 0.5rem !important;
      }
      
      /* Ensure date column stays in place */
      ul li[class*="grid"] > :first-child {
        grid-column: 1 !important;
        min-width: 0 !important;
      }
      
      /* Ensure content column spans correctly */
      ul li[class*="grid"] > [class*="col-span"] {
        grid-column: 2 !important;
        min-width: 0 !important;
      }
      
      /* Prevent titles from breaking unnecessarily */
      ul li[class*="grid"] [class*="font-medium"] {
        word-break: keep-all;
        overflow-wrap: break-word;
        hyphens: auto;
      }
      
      /* Keep date and content aligned */
      ul li[class*="grid"] {
        page-break-inside: avoid;
        break-inside: avoid;
      }
      
      /* Ensure colors print correctly */
      [style*="color:"] {
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
        color-adjust: exact;
      }
      
      /* Unified rules for all section headings - ensure headings never appear alone on a page */
      /* Prevent headings from breaking away from their content */
      h2, h3 {
        page-break-after: avoid;
        break-after: avoid;
        page-break-inside: avoid;
        break-inside: avoid;
        orphans: 3;
        widows: 3;
      }
      
      /* Prevent content from breaking away from its heading */
      h2 + *,
      h2 ~ *,
      h3 + *,
      h3 ~ *,
      h2 + ul,
      h2 ~ ul,
      h3 + ul,
      h3 ~ ul,
      h2 + div,
      h2 ~ div,
      h3 + div,
      h3 ~ div {
        page-break-before: avoid;
        break-before: avoid;
      }
      
      /* Keep containers with headings together with their content */
      div:has(> h2),
      div:has(> h3) {
        page-break-inside: avoid;
        break-inside: avoid;
      }
      
      /* Ensure sections with headings keep heading and content together */
      section:has(h2),
      section:has(h3) {
        page-break-inside: avoid;
        break-inside: avoid;
      }
    }
  </style>
  
  <section>
    <Wrapper variant="standard" class="pt-12 pb-6 lg:pt-24">
      <header class="flex items-center gap-4">
        <Image
          src={Author}
          alt="Portrait of Francis Wang"
          width={1200}
          height={1200}
          class="object-cover rounded-full size-12"
        />
        <Text
          id="instructor-heading"
          tag="h1"
          variant="textBase"
          class="font-medium text-primary"
        >
          Francis Wang's Curriculum Vitae
        </Text>
      </header>
      <article class="flex flex-col mt-4 gap-4">
        {
          bioParagraphs.map((para) => (
            <Text
              tag="p"
              variant="textBase"
              class="font-serif text-primary/60 text-balance"
            >
              {para}
            </Text>
          ))
        }
      </article>
    </Wrapper>
  </section>

  <section>
    <Wrapper variant="standard" class="py-6">
      <Text
        id="research-heading"
        tag="h2"
        variant="textBase"
        class="font-medium text-primary"
      >
        Current Research and Service
      </Text>
      <article
        class="flex flex-col pt-2 mt-2 border-t border-dotted gap-4 border-primary/10"
      >
        {
          currentResearch.map((item) => (
            <Text
              tag="p"
              variant="textBase"
              class="font-serif text-primary/60 text-balance"
            >
              {item}
            </Text>
          ))
        }
      </article>
    </Wrapper>
  </section>

  <section>
    <Wrapper variant="standard" class="py-6">
      <Text
        id="motivation-heading"
        tag="h2"
        variant="textBase"
        class="font-medium text-primary"
      >
        Why Work in Sustainability?
      </Text>
      <article
        class="flex flex-col pt-2 mt-2 border-t border-dotted gap-4 border-primary/10"
      >
        {
          motivation.map((item) => (
            <Text
              tag="p"
              variant="textBase"
              class="font-serif text-primary/60 text-balance"
            >
              {item}
            </Text>
          ))
        }
      </article>
    </Wrapper>
  </section>

  <!-- Education Section -->
  <section>
    <Wrapper variant="standard" class="py-6">
      <Text
        id="education-heading"
        tag="h2"
        variant="textBase"
        class="font-medium text-primary"
      >
        Education
      </Text>
      <div class="flex flex-wrap items-center gap-4 my-4 text-xs">
        <span class="flex items-center gap-1">
          <span
            class="inline-block w-3 h-3 rounded-full border border-primary/30"
            style="background-color: #660005"
          ></span>
          Business, Technology, Entrepreneurship
        </span>
        <span class="flex items-center gap-1">
          <span
            class="inline-block w-3 h-3 rounded-full border border-primary/30"
            style="background-color: #104747"
          ></span>
          Sustainable Development
        </span>
        <span class="flex items-center gap-1">
          <span
            class="inline-block w-3 h-3 rounded-full border border-primary/30"
            style="background-color: #F15A29"
          ></span>
          Health, Fitness, and Longevity Studies
        </span>
        <span class="flex items-center gap-1">
          <span
            class="inline-block w-3 h-3 rounded-full border border-primary/30"
            style="background-color: #005883"
          ></span>
          Learning Science
        </span>
      </div>
      <div class="pt-2 mt-2 border-t border-dotted border-primary/10 space-y-8">
        <!-- Degrees Subsection -->
        <div>
          <ul class="divide-y divide-primary/10">
            {
              degrees.map((item) => (
                <li class="py-2 grid grid-cols-1 gap-1 md:grid-cols-4">
                  <Text tag="h4" variant="textSM" class="text-primary">
                    {item.date}
                  </Text>
                  <div class="md:col-span-3">
                    <Text 
                      tag="p" 
                      variant="textSM" 
                      class="font-medium mb-1"
                      style={`color: ${typeColors[item.type] || "#000"}`}
                    >
                      {item.title}
                    </Text>
                    <Text tag="p" variant="textSM" class="font-serif text-primary/60">
                      {item.organization}
                    </Text>
                    {item.notes && item.notes.length > 0 && (
                      <div class="mt-2 space-y-1">
                        {item.notes.map((note) => (
                          <Text tag="p" variant="textXS" class="font-serif text-primary/60">
                            {note}
                          </Text>
                        ))}
                      </div>
                    )}
                  </div>
                </li>
              ))
            }
          </ul>
        </div>

        <!-- Diplomas and Certificates Subsection -->
        <div>
          <Text
            id="diplomas-certificates-heading"
            tag="h3"
            variant="textSM"
            class="font-medium text-primary mb-2"
          >
            Diplomas and Certificates
          </Text>
          <ul class="divide-y divide-primary/10">
            {
              certificates.map((item) => (
                <li class="py-2 grid grid-cols-1 gap-1 md:grid-cols-4">
                  <Text tag="h4" variant="textSM" class="text-primary">
                    {item.date}
                  </Text>
                  <div class="md:col-span-3">
                    <Text 
                      tag="p" 
                      variant="textSM" 
                      class="font-medium mb-1"
                      style={`color: ${typeColors[item.type] || "#000"}`}
                    >
                      {item.title}
                    </Text>
                    <Text tag="p" variant="textSM" class="font-serif text-primary/60">
                      {item.organization}
                    </Text>
                    {item.notes && item.notes.length > 0 && (
                      <div class="mt-2 space-y-1">
                        {item.notes.map((note) => (
                          <Text tag="p" variant="textXS" class="font-serif text-primary/60">
                            {note}
                          </Text>
                        ))}
                      </div>
                    )}
                  </div>
                </li>
              ))
            }
          </ul>
        </div>
      </div>
    </Wrapper>
  </section>

  <!-- Experience Section -->
  <section>
    <Wrapper variant="standard" class="py-6">
      <Text
        id="experience-heading"
        tag="h2"
        variant="textBase"
        class="font-medium text-primary"
      >
        Experience
      </Text>
      <ul class="pt-2 mt-2 border-t border-dotted divide-y divide-primary/10 border-primary/10">
        {
          experience.map((item) => (
            <li class="py-2 grid grid-cols-1 gap-1 md:grid-cols-4">
              <Text tag="h3" variant="textSM" class="text-primary">
                {item.date}
              </Text>
              <div class="md:col-span-3">
                <Text tag="p" variant="textSM" class="font-medium text-primary">
                  {item.title}
                </Text>
                <Text tag="p" variant="textSM" class="font-serif text-primary/60">
                  {item.organization}
                </Text>
                {item.notes && item.notes.length > 0 && (
                  <div class="mt-2 space-y-1">
                    {item.notes.map((note) => (
                      <Text tag="p" variant="textXS" class="font-serif text-primary/60">
                        {note}
                      </Text>
                    ))}
                  </div>
                )}
              </div>
            </li>
          ))
        }
      </ul>
    </Wrapper>
  </section>

  <!-- Publications and Patents Section -->
  <section>
    <Wrapper variant="standard" class="py-6">
      <Text
        id="publications-heading"
        tag="h2"
        variant="textBase"
        class="font-medium text-primary"
      >
        Publications and Patents
      </Text>
      <Text tag="p" variant="textXS" class="font-serif text-primary/50 mt-1">
        Aliases: "Wang, C.", "Wang, F.", and "Wang, F. C."
      </Text>
      <ul class="pt-2 mt-2 border-t border-dotted border-primary/10 space-y-4">
        {
          publications.map((pub) => (
            <li>
              <Text tag="p" variant="textSM" class="font-serif text-primary/60">
                <a
                  href={pub.url}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="text-primary hover:text-primary/60 no-underline"
                >
                  {pub.citation}
                </a>
              </Text>
            </li>
          ))
        }
      </ul>
    </Wrapper>
  </section>

  <!-- Presentations Section -->
  <section>
    <Wrapper variant="standard" class="py-6">
      <Text
        id="presentations-heading"
        tag="h2"
        variant="textBase"
        class="font-medium text-primary"
      >
        Presentations
      </Text>
      <Text tag="p" variant="textXS" class="font-serif text-primary/50 mt-1">
        Aliases: "Wang, C.", "Wang, F.", and "Wang, F. C."
      </Text>
      <ul class="pt-2 mt-2 border-t border-dotted border-primary/10 space-y-4">
        {
          presentations.map((presentation) => (
            <li>
              <Text tag="p" variant="textSM" class="font-serif text-primary/60">
                <a
                  href={presentation.url}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="text-primary hover:text-primary/60 no-underline"
                >
                  {presentation.citation}
                </a>
              </Text>
            </li>
          ))
        }
      </ul>
    </Wrapper>
  </section>

  <!-- Grants and Awards Section -->
  <section>
    <Wrapper variant="standard" class="py-6">
      <Text
        id="grants-awards-heading"
        tag="h2"
        variant="textBase"
        class="font-medium text-primary"
      >
        Grants and Awards
      </Text>
      <ul class="pt-2 mt-2 border-t border-dotted divide-y divide-primary/10 border-primary/10">
        {
          grantsAndAwards.map((item) => (
            <li class="py-2 grid grid-cols-1 gap-1 md:grid-cols-4">
              <Text tag="h3" variant="textSM" class="text-primary">
                {item.year}
              </Text>
              <Text
                tag="p"
                variant="textSM"
                class="font-serif text-primary/60 md:col-span-3"
              >
                {item.title} <br/> {item.description}
              </Text>
            </li>
          ))
        }
      </ul>
    </Wrapper>
  </section>

  <!-- Membership and Communities Section -->
  <section>
    <Wrapper variant="standard" class="py-6">
      <Text
        id="membership-heading"
        tag="h2"
        variant="textBase"
        class="font-medium text-primary"
      >
        Membership and Communities
      </Text>
      <ul class="pt-2 mt-2 border-t border-dotted border-primary/10 space-y-2">
        {
          memberships.map((membership) => (
            <li>
              <Text tag="p" variant="textSM" class="font-serif text-primary/60">
                {membership}
              </Text>
            </li>
          ))
        }
      </ul>
    </Wrapper>
  </section>

  <!-- Mentorship and Supervision Section -->
  <section>
    <Wrapper variant="standard" class="py-6">
      <Text
        id="mentorship-heading"
        tag="h2"
        variant="textBase"
        class="font-medium text-primary"
      >
        Mentorship and Supervision
      </Text>
      <div class="pt-2 mt-2 border-t border-dotted border-primary/10 space-y-4">
        {students.length > 0 && (
          <div>
            <Text tag="h3" variant="textSM" class="font-medium text-primary mb-2">
              Individual Students
            </Text>
            <ul class="space-y-2">
              {
                students.map((student) => (
                  <li>
                    <Text tag="p" variant="textSM" class="font-serif text-primary/60">
                      {student.data.name}
                      {student.data.occupation && ` – ${student.data.occupation}`}
                      {student.data.location && ` (${student.data.location})`}
                    </Text>
                  </li>
                ))
              }
            </ul>
          </div>
        )}
        <div>
          <Text tag="h3" variant="textSM" class="font-medium text-primary mb-2">
            University of Waterloo - Enterprise Co-op
          </Text>
          <div class="space-y-4">
            {
              waterlooStudents.map((termGroup) => (
                <div>
                  <Text tag="h4" variant="textXS" class="font-medium text-primary mb-2">
                    {termGroup.term}
                  </Text>
                  <ul class="space-y-1 ml-4">
                    {
                      termGroup.students.map((student) => (
                        <li>
                          <Text tag="p" variant="textSM" class="font-serif text-primary/60">
                            {student}
                          </Text>
                        </li>
                      ))
                    }
                  </ul>
                </div>
              ))
            }
          </div>
        </div>
      </div>
    </Wrapper>
  </section>
</BaseLayout> 
